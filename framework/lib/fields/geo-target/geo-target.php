<?php
/**
 * Prohibit direct script loading.
 *
 * @package Convert_Plus.
 */

// Add new input type "geo_target".
if ( function_exists( 'smile_add_input_type' ) ) {
	smile_add_input_type( 'geo_target', 'geo_target_settings_field' );
}

/**
 * Function Name:geo_target_settings_field Function to handle new input type "geo_target".
 *
 * @param  string $name     settings provided when using the input type "geo_target".
 * @param  string $settings holds the default / updated value.
 * @param  string $value    html output generated by the function.
 * @return string           html output generated by the function.
 */
function geo_target_settings_field( $name, $settings, $value ) {
	$input_name = $name;
	$type       = isset( $settings['type'] ) ? $settings['type'] : '';
	$class      = isset( $settings['class'] ) ? $settings['class'] : '';
	ob_start();
	?>
	<select name="<?php echo helper_get_instance()->esc_attr( $input_name ); ?>" id="smile_<?php echo helper_get_instance()->esc_attr( $input_name ); ?>" class="select2-geo_target-dropdown form-control smile-input <?php echo helper_get_instance()->esc_attr( 'smile-' . $type . ' ' . $input_name . ' ' . $type . ' ' . $class ); ?>" multiple="multiple" style="width:260px;">
		<?php
		$selected = '';
		$val_arr  = explode( ',', $value );

		$geo_target = array(
			'AF' => helper_get_instance()->__( 'Afghanistan', 'smile' ),
			'AX' => helper_get_instance()->__( '&#197;land Islands', 'smile' ),
			'AL' => helper_get_instance()->__( 'Albania', 'smile' ),
			'DZ' => helper_get_instance()->__( 'Algeria', 'smile' ),
			'AS' => helper_get_instance()->__( 'American Samoa', 'smile' ),
			'AD' => helper_get_instance()->__( 'Andorra', 'smile' ),
			'AO' => helper_get_instance()->__( 'Angola', 'smile' ),
			'AI' => helper_get_instance()->__( 'Anguilla', 'smile' ),
			'AQ' => helper_get_instance()->__( 'Antarctica', 'smile' ),
			'AG' => helper_get_instance()->__( 'Antigua and Barbuda', 'smile' ),
			'AR' => helper_get_instance()->__( 'Argentina', 'smile' ),
			'AM' => helper_get_instance()->__( 'Armenia', 'smile' ),
			'AW' => helper_get_instance()->__( 'Aruba', 'smile' ),
			'AU' => helper_get_instance()->__( 'Australia', 'smile' ),
			'AT' => helper_get_instance()->__( 'Austria', 'smile' ),
			'AZ' => helper_get_instance()->__( 'Azerbaijan', 'smile' ),
			'BS' => helper_get_instance()->__( 'Bahamas', 'smile' ),
			'BH' => helper_get_instance()->__( 'Bahrain', 'smile' ),
			'BD' => helper_get_instance()->__( 'Bangladesh', 'smile' ),
			'BB' => helper_get_instance()->__( 'Barbados', 'smile' ),
			'BY' => helper_get_instance()->__( 'Belarus', 'smile' ),
			'BE' => helper_get_instance()->__( 'Belgium', 'smile' ),
			'PW' => helper_get_instance()->__( 'Belau', 'smile' ),
			'BZ' => helper_get_instance()->__( 'Belize', 'smile' ),
			'BJ' => helper_get_instance()->__( 'Benin', 'smile' ),
			'BM' => helper_get_instance()->__( 'Bermuda', 'smile' ),
			'BT' => helper_get_instance()->__( 'Bhutan', 'smile' ),
			'BO' => helper_get_instance()->__( 'Bolivia', 'smile' ),
			'BQ' => helper_get_instance()->__( 'Bonaire, Saint Eustatius and Saba', 'smile' ),
			'BA' => helper_get_instance()->__( 'Bosnia and Herzegovina', 'smile' ),
			'BW' => helper_get_instance()->__( 'Botswana', 'smile' ),
			'BV' => helper_get_instance()->__( 'Bouvet Island', 'smile' ),
			'BR' => helper_get_instance()->__( 'Brazil', 'smile' ),
			'IO' => helper_get_instance()->__( 'British Indian Ocean Territory', 'smile' ),
			'VG' => helper_get_instance()->__( 'British Virgin Islands', 'smile' ),
			'BN' => helper_get_instance()->__( 'Brunei', 'smile' ),
			'BG' => helper_get_instance()->__( 'Bulgaria', 'smile' ),
			'BF' => helper_get_instance()->__( 'Burkina Faso', 'smile' ),
			'BI' => helper_get_instance()->__( 'Burundi', 'smile' ),
			'KH' => helper_get_instance()->__( 'Cambodia', 'smile' ),
			'CM' => helper_get_instance()->__( 'Cameroon', 'smile' ),
			'CA' => helper_get_instance()->__( 'Canada', 'smile' ),
			'CV' => helper_get_instance()->__( 'Cape Verde', 'smile' ),
			'KY' => helper_get_instance()->__( 'Cayman Islands', 'smile' ),
			'CF' => helper_get_instance()->__( 'Central African Republic', 'smile' ),
			'TD' => helper_get_instance()->__( 'Chad', 'smile' ),
			'CL' => helper_get_instance()->__( 'Chile', 'smile' ),
			'CN' => helper_get_instance()->__( 'China', 'smile' ),
			'CX' => helper_get_instance()->__( 'Christmas Island', 'smile' ),
			'CC' => helper_get_instance()->__( 'Cocos (Keeling) Islands', 'smile' ),
			'CO' => helper_get_instance()->__( 'Colombia', 'smile' ),
			'KM' => helper_get_instance()->__( 'Comoros', 'smile' ),
			'CG' => helper_get_instance()->__( 'Congo (Brazzaville)', 'smile' ),
			'CD' => helper_get_instance()->__( 'Congo (Kinshasa)', 'smile' ),
			'CK' => helper_get_instance()->__( 'Cook Islands', 'smile' ),
			'CR' => helper_get_instance()->__( 'Costa Rica', 'smile' ),
			'HR' => helper_get_instance()->__( 'Croatia', 'smile' ),
			'CU' => helper_get_instance()->__( 'Cuba', 'smile' ),
			'CW' => helper_get_instance()->__( 'Cura&ccedil;ao', 'smile' ),
			'CY' => helper_get_instance()->__( 'Cyprus', 'smile' ),
			'CZ' => helper_get_instance()->__( 'Czech Republic', 'smile' ),
			'DK' => helper_get_instance()->__( 'Denmark', 'smile' ),
			'DJ' => helper_get_instance()->__( 'Djibouti', 'smile' ),
			'DM' => helper_get_instance()->__( 'Dominica', 'smile' ),
			'DO' => helper_get_instance()->__( 'Dominican Republic', 'smile' ),
			'EC' => helper_get_instance()->__( 'Ecuador', 'smile' ),
			'EG' => helper_get_instance()->__( 'Egypt', 'smile' ),
			'SV' => helper_get_instance()->__( 'El Salvador', 'smile' ),
			'GQ' => helper_get_instance()->__( 'Equatorial Guinea', 'smile' ),
			'ER' => helper_get_instance()->__( 'Eritrea', 'smile' ),
			'EE' => helper_get_instance()->__( 'Estonia', 'smile' ),
			'ET' => helper_get_instance()->__( 'Ethiopia', 'smile' ),
			'FK' => helper_get_instance()->__( 'Falkland Islands', 'smile' ),
			'FO' => helper_get_instance()->__( 'Faroe Islands', 'smile' ),
			'FJ' => helper_get_instance()->__( 'Fiji', 'smile' ),
			'FI' => helper_get_instance()->__( 'Finland', 'smile' ),
			'FR' => helper_get_instance()->__( 'France', 'smile' ),
			'GF' => helper_get_instance()->__( 'French Guiana', 'smile' ),
			'PF' => helper_get_instance()->__( 'French Polynesia', 'smile' ),
			'TF' => helper_get_instance()->__( 'French Southern Territories', 'smile' ),
			'GA' => helper_get_instance()->__( 'Gabon', 'smile' ),
			'GM' => helper_get_instance()->__( 'Gambia', 'smile' ),
			'GE' => helper_get_instance()->__( 'Georgia', 'smile' ),
			'DE' => helper_get_instance()->__( 'Germany', 'smile' ),
			'GH' => helper_get_instance()->__( 'Ghana', 'smile' ),
			'GI' => helper_get_instance()->__( 'Gibraltar', 'smile' ),
			'GR' => helper_get_instance()->__( 'Greece', 'smile' ),
			'GL' => helper_get_instance()->__( 'Greenland', 'smile' ),
			'GD' => helper_get_instance()->__( 'Grenada', 'smile' ),
			'GP' => helper_get_instance()->__( 'Guadeloupe', 'smile' ),
			'GU' => helper_get_instance()->__( 'Guam', 'smile' ),
			'GT' => helper_get_instance()->__( 'Guatemala', 'smile' ),
			'GG' => helper_get_instance()->__( 'Guernsey', 'smile' ),
			'GN' => helper_get_instance()->__( 'Guinea', 'smile' ),
			'GW' => helper_get_instance()->__( 'Guinea-Bissau', 'smile' ),
			'GY' => helper_get_instance()->__( 'Guyana', 'smile' ),
			'HT' => helper_get_instance()->__( 'Haiti', 'smile' ),
			'HM' => helper_get_instance()->__( 'Heard Island and McDonald Islands', 'smile' ),
			'HN' => helper_get_instance()->__( 'Honduras', 'smile' ),
			'HK' => helper_get_instance()->__( 'Hong Kong', 'smile' ),
			'HU' => helper_get_instance()->__( 'Hungary', 'smile' ),
			'IS' => helper_get_instance()->__( 'Iceland', 'smile' ),
			'IN' => helper_get_instance()->__( 'India', 'smile' ),
			'ID' => helper_get_instance()->__( 'Indonesia', 'smile' ),
			'IR' => helper_get_instance()->__( 'Iran', 'smile' ),
			'IQ' => helper_get_instance()->__( 'Iraq', 'smile' ),
			'IE' => helper_get_instance()->__( 'Ireland', 'smile' ),
			'IM' => helper_get_instance()->__( 'Isle of Man', 'smile' ),
			'IL' => helper_get_instance()->__( 'Israel', 'smile' ),
			'IT' => helper_get_instance()->__( 'Italy', 'smile' ),
			'CI' => helper_get_instance()->__( 'Ivory Coast', 'smile' ),
			'JM' => helper_get_instance()->__( 'Jamaica', 'smile' ),
			'JP' => helper_get_instance()->__( 'Japan', 'smile' ),
			'JE' => helper_get_instance()->__( 'Jersey', 'smile' ),
			'JO' => helper_get_instance()->__( 'Jordan', 'smile' ),
			'KZ' => helper_get_instance()->__( 'Kazakhstan', 'smile' ),
			'KE' => helper_get_instance()->__( 'Kenya', 'smile' ),
			'KI' => helper_get_instance()->__( 'Kiribati', 'smile' ),
			'KW' => helper_get_instance()->__( 'Kuwait', 'smile' ),
			'KG' => helper_get_instance()->__( 'Kyrgyzstan', 'smile' ),
			'LA' => helper_get_instance()->__( 'Laos', 'smile' ),
			'LV' => helper_get_instance()->__( 'Latvia', 'smile' ),
			'LB' => helper_get_instance()->__( 'Lebanon', 'smile' ),
			'LS' => helper_get_instance()->__( 'Lesotho', 'smile' ),
			'LR' => helper_get_instance()->__( 'Liberia', 'smile' ),
			'LY' => helper_get_instance()->__( 'Libya', 'smile' ),
			'LI' => helper_get_instance()->__( 'Liechtenstein', 'smile' ),
			'LT' => helper_get_instance()->__( 'Lithuania', 'smile' ),
			'LU' => helper_get_instance()->__( 'Luxembourg', 'smile' ),
			'MO' => helper_get_instance()->__( 'Macao S.A.R., China', 'smile' ),
			'MK' => helper_get_instance()->__( 'Macedonia', 'smile' ),
			'MG' => helper_get_instance()->__( 'Madagascar', 'smile' ),
			'MW' => helper_get_instance()->__( 'Malawi', 'smile' ),
			'MY' => helper_get_instance()->__( 'Malaysia', 'smile' ),
			'MV' => helper_get_instance()->__( 'Maldives', 'smile' ),
			'ML' => helper_get_instance()->__( 'Mali', 'smile' ),
			'MT' => helper_get_instance()->__( 'Malta', 'smile' ),
			'MH' => helper_get_instance()->__( 'Marshall Islands', 'smile' ),
			'MQ' => helper_get_instance()->__( 'Martinique', 'smile' ),
			'MR' => helper_get_instance()->__( 'Mauritania', 'smile' ),
			'MU' => helper_get_instance()->__( 'Mauritius', 'smile' ),
			'YT' => helper_get_instance()->__( 'Mayotte', 'smile' ),
			'MX' => helper_get_instance()->__( 'Mexico', 'smile' ),
			'FM' => helper_get_instance()->__( 'Micronesia', 'smile' ),
			'MD' => helper_get_instance()->__( 'Moldova', 'smile' ),
			'MC' => helper_get_instance()->__( 'Monaco', 'smile' ),
			'MN' => helper_get_instance()->__( 'Mongolia', 'smile' ),
			'ME' => helper_get_instance()->__( 'Montenegro', 'smile' ),
			'MS' => helper_get_instance()->__( 'Montserrat', 'smile' ),
			'MA' => helper_get_instance()->__( 'Morocco', 'smile' ),
			'MZ' => helper_get_instance()->__( 'Mozambique', 'smile' ),
			'MM' => helper_get_instance()->__( 'Myanmar', 'smile' ),
			'NA' => helper_get_instance()->__( 'Namibia', 'smile' ),
			'NR' => helper_get_instance()->__( 'Nauru', 'smile' ),
			'NP' => helper_get_instance()->__( 'Nepal', 'smile' ),
			'NL' => helper_get_instance()->__( 'Netherlands', 'smile' ),
			'NC' => helper_get_instance()->__( 'New Caledonia', 'smile' ),
			'NZ' => helper_get_instance()->__( 'New Zealand', 'smile' ),
			'NI' => helper_get_instance()->__( 'Nicaragua', 'smile' ),
			'NE' => helper_get_instance()->__( 'Niger', 'smile' ),
			'NG' => helper_get_instance()->__( 'Nigeria', 'smile' ),
			'NU' => helper_get_instance()->__( 'Niue', 'smile' ),
			'NF' => helper_get_instance()->__( 'Norfolk Island', 'smile' ),
			'MP' => helper_get_instance()->__( 'Northern Mariana Islands', 'smile' ),
			'KP' => helper_get_instance()->__( 'North Korea', 'smile' ),
			'NO' => helper_get_instance()->__( 'Norway', 'smile' ),
			'OM' => helper_get_instance()->__( 'Oman', 'smile' ),
			'PK' => helper_get_instance()->__( 'Pakistan', 'smile' ),
			'PS' => helper_get_instance()->__( 'Palestinian Territory', 'smile' ),
			'PA' => helper_get_instance()->__( 'Panama', 'smile' ),
			'PG' => helper_get_instance()->__( 'Papua New Guinea', 'smile' ),
			'PY' => helper_get_instance()->__( 'Paraguay', 'smile' ),
			'PE' => helper_get_instance()->__( 'Peru', 'smile' ),
			'PH' => helper_get_instance()->__( 'Philippines', 'smile' ),
			'PN' => helper_get_instance()->__( 'Pitcairn', 'smile' ),
			'PL' => helper_get_instance()->__( 'Poland', 'smile' ),
			'PT' => helper_get_instance()->__( 'Portugal', 'smile' ),
			'PR' => helper_get_instance()->__( 'Puerto Rico', 'smile' ),
			'QA' => helper_get_instance()->__( 'Qatar', 'smile' ),
			'RE' => helper_get_instance()->__( 'Reunion', 'smile' ),
			'RO' => helper_get_instance()->__( 'Romania', 'smile' ),
			'RU' => helper_get_instance()->__( 'Russia', 'smile' ),
			'RW' => helper_get_instance()->__( 'Rwanda', 'smile' ),
			'BL' => helper_get_instance()->__( 'Saint Barth&eacute;lemy', 'smile' ),
			'SH' => helper_get_instance()->__( 'Saint Helena', 'smile' ),
			'KN' => helper_get_instance()->__( 'Saint Kitts and Nevis', 'smile' ),
			'LC' => helper_get_instance()->__( 'Saint Lucia', 'smile' ),
			'MF' => helper_get_instance()->__( 'Saint Martin (French part)', 'smile' ),
			'SX' => helper_get_instance()->__( 'Saint Martin (Dutch part)', 'smile' ),
			'PM' => helper_get_instance()->__( 'Saint Pierre and Miquelon', 'smile' ),
			'VC' => helper_get_instance()->__( 'Saint Vincent and the Grenadines', 'smile' ),
			'SM' => helper_get_instance()->__( 'San Marino', 'smile' ),
			'ST' => helper_get_instance()->__( 'S&atilde;o Tom&eacute; and Pr&iacute;ncipe', 'smile' ),
			'SA' => helper_get_instance()->__( 'Saudi Arabia', 'smile' ),
			'SN' => helper_get_instance()->__( 'Senegal', 'smile' ),
			'RS' => helper_get_instance()->__( 'Serbia', 'smile' ),
			'SC' => helper_get_instance()->__( 'Seychelles', 'smile' ),
			'SL' => helper_get_instance()->__( 'Sierra Leone', 'smile' ),
			'SG' => helper_get_instance()->__( 'Singapore', 'smile' ),
			'SK' => helper_get_instance()->__( 'Slovakia', 'smile' ),
			'SI' => helper_get_instance()->__( 'Slovenia', 'smile' ),
			'SB' => helper_get_instance()->__( 'Solomon Islands', 'smile' ),
			'SO' => helper_get_instance()->__( 'Somalia', 'smile' ),
			'ZA' => helper_get_instance()->__( 'South Africa', 'smile' ),
			'GS' => helper_get_instance()->__( 'South Georgia/Sandwich Islands', 'smile' ),
			'KR' => helper_get_instance()->__( 'South Korea', 'smile' ),
			'SS' => helper_get_instance()->__( 'South Sudan', 'smile' ),
			'ES' => helper_get_instance()->__( 'Spain', 'smile' ),
			'LK' => helper_get_instance()->__( 'Sri Lanka', 'smile' ),
			'SD' => helper_get_instance()->__( 'Sudan', 'smile' ),
			'SR' => helper_get_instance()->__( 'Suriname', 'smile' ),
			'SJ' => helper_get_instance()->__( 'Svalbard and Jan Mayen', 'smile' ),
			'SZ' => helper_get_instance()->__( 'Swaziland', 'smile' ),
			'SE' => helper_get_instance()->__( 'Sweden', 'smile' ),
			'CH' => helper_get_instance()->__( 'Switzerland', 'smile' ),
			'SY' => helper_get_instance()->__( 'Syria', 'smile' ),
			'TW' => helper_get_instance()->__( 'Taiwan', 'smile' ),
			'TJ' => helper_get_instance()->__( 'Tajikistan', 'smile' ),
			'TZ' => helper_get_instance()->__( 'Tanzania', 'smile' ),
			'TH' => helper_get_instance()->__( 'Thailand', 'smile' ),
			'TL' => helper_get_instance()->__( 'Timor-Leste', 'smile' ),
			'TG' => helper_get_instance()->__( 'Togo', 'smile' ),
			'TK' => helper_get_instance()->__( 'Tokelau', 'smile' ),
			'TO' => helper_get_instance()->__( 'Tonga', 'smile' ),
			'TT' => helper_get_instance()->__( 'Trinidad and Tobago', 'smile' ),
			'TN' => helper_get_instance()->__( 'Tunisia', 'smile' ),
			'TR' => helper_get_instance()->__( 'Turkey', 'smile' ),
			'TM' => helper_get_instance()->__( 'Turkmenistan', 'smile' ),
			'TC' => helper_get_instance()->__( 'Turks and Caicos Islands', 'smile' ),
			'TV' => helper_get_instance()->__( 'Tuvalu', 'smile' ),
			'UG' => helper_get_instance()->__( 'Uganda', 'smile' ),
			'UA' => helper_get_instance()->__( 'Ukraine', 'smile' ),
			'AE' => helper_get_instance()->__( 'United Arab Emirates', 'smile' ),
			'GB' => helper_get_instance()->__( 'United Kingdom (UK)', 'smile' ),
			'US' => helper_get_instance()->__( 'United States (US)', 'smile' ),
			'UM' => helper_get_instance()->__( 'United States (US) Minor Outlying Islands', 'smile' ),
			'VI' => helper_get_instance()->__( 'United States (US) Virgin Islands', 'smile' ),
			'UY' => helper_get_instance()->__( 'Uruguay', 'smile' ),
			'UZ' => helper_get_instance()->__( 'Uzbekistan', 'smile' ),
			'VU' => helper_get_instance()->__( 'Vanuatu', 'smile' ),
			'VA' => helper_get_instance()->__( 'Vatican', 'smile' ),
			'VE' => helper_get_instance()->__( 'Venezuela', 'smile' ),
			'VN' => helper_get_instance()->__( 'Vietnam', 'smile' ),
			'WF' => helper_get_instance()->__( 'Wallis and Futuna', 'smile' ),
			'EH' => helper_get_instance()->__( 'Western Sahara', 'smile' ),
			'WS' => helper_get_instance()->__( 'Samoa', 'smile' ),
			'YE' => helper_get_instance()->__( 'Yemen', 'smile' ),
			'ZM' => helper_get_instance()->__( 'Zambia', 'smile' ),
			'ZW' => helper_get_instance()->__( 'Zimbabwe', 'smile' ),
		);

		?>
	<optgroup label="<?php echo helper_get_instance()->__( 'Countries -', 'smile' ); ?>"> 
		<?php
		foreach ( $geo_target as $post_type ) {
			$selected = ( in_array( $post_type, $val_arr ) ) ? 'selected="selected"' : '';
			?>
			<option <?php echo helper_get_instance()->esc_attr( $selected ); ?> value="<?php echo helper_get_instance()->esc_attr( $post_type ); ?>"><?php echo helper_get_instance()->esc_attr( ucwords( $post_type ) ); ?></option> 
			<?php
		}
		?>

	</optgroup>	
</select>
	<?php
	return ob_get_clean();
}
